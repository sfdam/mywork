@isTest
public with sharing class bifis_crm_u_MockResponse4Test  {

  public bifis_crm_u_MockResponse4Test() {
  }

 public class HTTPCalloutMockImplementazione implements HttpCalloutMock {

    protected Integer code;
    protected String status;
    protected List<String> bodies;
    protected Map<String, String> responseHeaders;
    protected Integer step = 0;

    public HTTPCalloutMockImplementazione(Integer code, String status, String body, Map<String, String> responseHeaders) {
      this(code, status, new List<String> {body}, responseHeaders);
    }

    public HTTPCalloutMockImplementazione(Integer code, String status, List<String> bodies, Map<String, String> responseHeaders) {
      this.code = code;
      this.status = status;
      this.bodies = bodies;
      this.responseHeaders = responseHeaders;
    }

    public HTTPResponse respond(HTTPRequest req) {
      HttpResponse res = new HttpResponse();
      for (String key : this.responseHeaders.keySet()) {
        res.setHeader(key, this.responseHeaders.get(key));
      }
      res.setBody(this.bodies[step]);
      if (step + 1 < this.bodies.size())
        step++;
      res.setStatusCode(this.code);
      res.setStatus(this.status);
      return res;
    }

  }

  public static HttpCalloutMock creaMockRispostaOk(String body) {
    return creaMockRispostaOk(new List<String> {body});
  }

  public static HttpCalloutMock creaMockRispostaOk(List<String> bodies) {
    // Specifico i valori che ricever√≤ dal mock fingendo di far chiamate HTTP
    Map<String, String> responseHeaders = new Map<String, String>();
    responseHeaders.put('Content-Type', 'application/json');
    return new HTTPCalloutMockImplementazione(200, 'OK', bodies, responseHeaders);
  }

 // ANAG

  // Ottenuta cercando Nome="Paolo" Cognome="Brivio"
  public static final String PAYLOAD_RICERCA_ANAGRAFICA_CEDACRI_PF = '{"payload":{"anagrafica":[{"ndg":8801327495,"denominazione":"BRIVIOPAOLO","tipologia":null,"segmento":null,"agenzia":0,"gestore":{"codice":0,"descrizione":null},"telefono":null,"cellulare":null,"codiceFiscale":"668475","sesso":null,"residenzaLegale":{"indirizzo":null,"comune":"ITALIA","provincia":"EE","cap":0},"nazione":"ITALIA","dataDiNascita":null,"luogoDiNascita":null,"email":null},{"ndg":8810156054,"denominazione":"BRIVIOPAOLO","tipologia":null,"segmento":null,"agenzia":0,"gestore":{"codice":0,"descrizione":null},"telefono":null,"cellulare":null,"codiceFiscale":"668475","sesso":null,"residenzaLegale":{"indirizzo":null,"comune":"ITALIA","provincia":"EE","cap":0},"nazione":"ITALIA","dataDiNascita":null,"luogoDiNascita":null,"email":null},{"ndg":485041,"denominazione":"BRIVIOPAOLO","tipologia":"PRIVATO","segmento":null,"agenzia":0,"gestore":{"codice":0,"descrizione":null},"telefono":null,"cellulare":"3927812323","codiceFiscale":"BRVPLA77P01A794E","sesso":"M","residenzaLegale":{"indirizzo":{"tipo":"VIA","nome":"DONCARLOBOTTA","numero":null},"comune":"BERGAMO","provincia":"BG","cap":24122},"nazione":"ITALIA","dataDiNascita":241912800000,"luogoDiNascita":"BERGAMO","email":null},{"ndg":2548031,"denominazione":"BRIVIOPAOLOMARIAFELICE","tipologia":"PRIVATO","segmento":null,"agenzia":100,"gestore":{"codice":0,"descrizione":null},"telefono":{"prefisso":3,"numero":32770710},"cellulare":null,"codiceFiscale":"BRVPMR54R11A290O","sesso":"M","residenzaLegale":{"indirizzo":{"tipo":"VIA","nome":"EUROPA","numero":null},"comune":"BESOZZO","provincia":"VA","cap":21023},"nazione":"ITALIA","dataDiNascita":-480474000000,"luogoDiNascita":"ANGERA","email":null}]},"headers":{"headers":{"tech_header":{"id":"tech_header","applicationCode":"CRM","correlationId":null,"channel":null,"timeStamp":null,"workstationId":null,"clientIpAddress":null,"clientHostname":null},"user_header":{"id":"user_header","archUser":{"name":null,"surname":null,"emailAddress":null,"phoneNumber":null,"userId":"ATELNEXT","actualUserId":"AdminTelnext","institute":null,"userGroups":null,"userRoles":null}}}}}';

  // Ottenuta cercando Ragione Sociale="RACCORFERS BRIVIO PAOLO"
  public static final String PAYLOAD_RICERCA_ANAGRAFICA_CEDACRI_PG = '{"payload":{"anagrafica":[{"ndg":2731775,"denominazione":"RACCORFERS.N.C.DIBRIVIOFABIO&C","tipologia":"IMPRESA","segmento":null,"agenzia":100,"gestore":{"codice":0,"descrizione":null},"telefono":{"prefisso":3,"numero":99241116},"cellulare":null,"codiceFiscale":"00748820131","sesso":null,"residenzaLegale":{"indirizzo":{"tipo":"VIA","nome":"GIOACCHINOROSSINI","numero":null},"comune":"MISSAGLIA","provincia":"LC","cap":23873},"nazione":"ITALIA","dataDiNascita":null,"luogoDiNascita":null,"email":null}]},"headers":{"headers":{"tech_header":{"id":"tech_header","applicationCode":"CRM","correlationId":null,"channel":null,"timeStamp":null,"workstationId":null,"clientIpAddress":null,"clientHostname":null},"user_header":{"id":"user_header","archUser":{"name":null,"surname":null,"emailAddress":null,"phoneNumber":null,"userId":"ATELNEXT","actualUserId":"AdminTelnext","institute":null,"userGroups":null,"userRoles":null}}}}}';
																	  
  // Ottenuta cercando PIVA="00339370272" al 18/10/2018
  public static final String PAYLOAD_RICERCA_ANAGRAFICA_CEDACRI_PG_PA = '{"payload":{"anagrafica":[{"ndg":130712,"denominazione":"COMUNE DI VENEZIA","tipologia":"IMPRESA","segmento":null,"agenzia":16,"gestore":{"codice":238973,"descrizione":"RENESTO ANTONELLA"},"telefono":{"prefisso":41,"numero":2748111},"cellulare":null,"codiceFiscale":"00339370272","sesso":null,"residenzaLegale":{"indirizzo":{"tipo":"P.ZZA","nome":"S. MARCO","numero":"4137"},"comune":"VENEZIA","provincia":"VE","cap":30124},"nazione":"ITALIA","dataDiNascita":null,"luogoDiNascita":null,"email":null}]},"headers":{"headers":{"tech_header":{"id":"tech_header","applicationCode":"CRM","correlationId":"abcd-1539851630299-efgh","channel":"B2B","timeStamp":1539851630299,"workstationId":null,"clientIpAddress":null,"clientHostname":null},"user_header":{"id":"user_header","archUser":{"name":"CRM Salesforce","surname":"SFDC","emailAddress":null,"phoneNumber":null,"userId":"ext.crm","actualUserId":"ext.crm","institute":null,"userGroups":[{"name":"Users","description":""},{"name":"NoLocalLogon","description":""}],"userRoles":[]}}}}}';
  
  // Ottenuta cercando qualsiasi cosa specificando questo payload
  public static final String PAYLOAD_RICERCA_ANAGRAFICA_CEDACRI_PG_KO = '{"payload":{"anagrafica":[]},"headers":{"headers":{"tech_header":{"id":"tech_header","applicationCode":"CRM","correlationId":"abcd-1539867688086-efgh","channel":"B2B","timeStamp":1539867688086,"workstationId":null,"clientIpAddress":null,"clientHostname":null},"user_header":{"id":"user_header","archUser":{"name":"CRM Salesforce","surname":"SFDC","emailAddress":null,"phoneNumber":null,"userId":"ext.crm","actualUserId":"ext.crm","institute":null,"userGroups":[{"name":"Users","description":""},{"name":"NoLocalLogon","description":""}],"userRoles":[]}}}}}';

  // Ottenuta cercando "130712" al 18/10/2018
  public static final String PAYLOAD_GET_DATI_ANAGRAFICI_CEDACRI_PG_PA = '{"payload":{"codiceIstituto3N":881,"ndg":130712,"codiceFiscale":"00339370272","sesso":null,"naturaGiuridica":{"descrizione":"ENTP"},"intestazione":{"cognome":"COMUNE DI VENEZIA","nome":null,"attivita":null},"numeroCointestatari":0,"codiceStatoCivile":null,"descrizioneStatoCivile":null,"infoNascita":null,"residenzaLegale":{"via":{"tipo":"P.ZZA","nome":"S. MARCO","numero":"4137"},"localita":null,"cap":30124,"comune":"VENEZIA","provincia":"VE"},"domiciliazioneAmministrativa":{"indicativo":"0","descrizione":null,"indirizzo":{"via":{"tipo":"P.ZZA","nome":"S. MARCO","numero":"4136"},"localita":null,"cap":30124,"comune":"VENEZIA","provincia":"VE"}},"documento":null,"attivitaEcononica":{"cae":0,"descrizioneCAE":null,"sae":173,"descrizioneSAE":"AMMINISTRAZIONI COMUNALI E UNIONI DI COMUNI","rae":0,"descrizioneRAE":null},"telefono":{"prefisso":"041","numero":"2748111"},"infoCCIAA":{"dataIscrizioneLegale":1372377600002,"provinciaSedeLegale":"VE","numeroIscrizioneLegale":373070,"dataIscrizioneAmministrativa":1372377600002,"provinciaAmministrativa":"VE","numeroIscrizioneAmministrativa":373070},"cittadinanzaResidenza":{"tipoCittadinanza":"1","codiceCittadinanza":0,"codiceResidenza":0,"descrizioneCittadinanza":null},"agenzia":{"codice":0,"descrizione":"DIREZIONE GENERALE"},"statusElemento":{"indicativoMarketing":"000","saealternativo":0,"raealternativo":0},"descrizioneSAEAlternativo":null,"descrizioneRAEAlternativo":null,"descrizioneResidenzaValutaria":null,"descrizioneIndicativoSocio":"NON SOCIO CON RESID. O ATTIV. IN TERRITORIO BANCA","descrizioneTipoGruppo":null,"descrizioneIndicativoMarketing":null,"notastatus":{"codiceLingua":"it","codiceMoneta":null,"indicativoFornitore":null},"descrizoneLingua":"ITALIANO","codiceABI":0,"fatturazione":{"indicativo":"0","periodicita":null},"matricolaFunzionario":238973,"dataCensimento":1464904800002,"dataUltimaVariazioneAnagrafica":1539813600002,"residenzaTitolare":{"indirizzo":{"via":null,"localita":null,"cap":0,"comune":null,"provincia":null}},"centraleRischi":103056054,"partitaIVA":"00339370272","numeroCellulare":null,"email":"GESTIONE.INVESTIMENTI@COMUNE.VENEZIA.IT","numeroFax":null,"ateco":"59.14","descrizioneAteco":"Attivita di proiezione cinematografica","tabellaPrivacy":{"elementoPrivacy":[{"codiceDato":6020,"descrizioneDato":"CONSENSO ALLA PROFILAZIONE","consenso":"N","data":1495152000002,"agenzia":0,"privFi":"S"},{"codiceDato":6021,"descrizioneDato":"CONS. PROD. BANCA. E RICERCHE DI MKT","consenso":"S","data":1495152000002,"agenzia":0,"privFi":"S"},{"codiceDato":6022,"descrizioneDato":"CONSENSO PRODOTTI SOC.TERZE","consenso":"S","data":1495152000002,"agenzia":0,"privFi":"S"},{"codiceDato":6023,"descrizioneDato":"CONS.ATTIV. PROMOZ.BANCA E RICERCHE MKT","consenso":"S","data":1495152000002,"agenzia":0,"privFi":"S"},{"codiceDato":6024,"descrizioneDato":"CONSENSO ATTIVITA PROMOZ. TERZI","consenso":"N","data":1495152000002,"agenzia":0,"privFi":"S"},{"codiceDato":6025,"descrizioneDato":"CONSENSO SOLO MODALITA TRADIZIONALI","consenso":"N","data":1495152000002,"agenzia":0,"privFi":"S"},{"codiceDato":6026,"descrizioneDato":"Benefondi ed informazioni commerciali","consenso":null,"data":null,"agenzia":0,"privFi":null}]},"numeroCellulareAlternativo":null,"emailAlternativo":null,"numeroTelefonoAlternativo":null,"sitoInternet":null,"codiceProfessione":null,"descrizioneProfessione":null,"dataScadenzaDocumento":null,"numeroAddetti":"00210","flagClientePotenziale":null,"codiceAppellativo":3,"descrizioneAppellativo":"SPETTABILE","titoloNonAccademico":{"codice":0,"descrizioneBreve":null,"descrizione":null},"titoloAccademico":{"codice":0,"descrizioneBreve":null,"descrizione":null},"tipoDipendente":"0","descrizioneTipoDipendente":null,"matricolaDipendente":0,"indicativoCapoConvenzione":0,"codiceConvenzione":0,"indicativoCapoGruppo":0,"codiceGruppo":0,"codiceSegmento":"GIUR","datiAggiuntiObbligatori":"S","datiAggiuntivi":[],"datiAggiuntiviComplementari":{"BonificoRipetitivoUSA":null,"NumeroDocumento2":null,"flagPil":null,"PosizioneAnagraficheNegative":null,"TerzaCittadinanzaFATCA":null,"SocietaQuotBorsa":null,"DataStampaQuestionario":null,"NumComponentiNucleo":null,"RatingLegalita":null,"CaiPaese":null,"FlagAntiterrorismo":null,"FATCADichiarazResidenzaUS":null,"CollegatoPEP":null,"MotivoAssenzaTitolareEff":null,"CaiIndirizzo":null,"FATCADichiarazCittadinanzaUS":null,"CodClassCliente":"A","ClienteMagistratura":null,"FlagPep":null,"ClienteComuneGruppoAss":null,"IndirizzoInternet":null,"PrefissoTelCasa":null,"DescBloccoAnag":null,"CodiceIban":null,"SAECodificaNuova":null,"CodFiscaleEstero":null,"TelefonoDitte":null,"QuintaResidenzaFATCA":null,"AttivitaPrevalente":null,"SoggettoIndagato":null,"CodiceSWIFT":null,"ProceduraConcorsuale":null,"NDGFiduciante":null,"QuartaResidenzaFATCA":null,"PosizionePEP":null,"CaiProvincia":null,"GestioneBolli":null,"PosizioneCRS":null,"DatiDocumento02CRS":null,"TelefonoInternazionale":null,"ncgEstero":null,"SecondaResidenzaFATCA":null,"DataDecesso":null,"CodTitStudio":null,"DatiDocFATCA":null,"FACTAGIIN":null,"DataProvvConfisca":null,"PrimaResidenzaFATCA":null,"NDGSettorialeEstero":null,"SettoreLavorativo":null,"AlboArtigiani":null,"ResidenzaFiscaleEstera":null,"CodiceFiscaleSecondaResidenzaFATCA":null,"CodiceFiscaleTerzaResidenzaFATCA":null,"PrefissoTelAlterativo":null,"FlagBloccoAnag":null,"FlagNONpresTitEff":null,"emailPec":"protocollo@pec.comune.venezia.it","DataRifFatt":null,"CodFiscalePrecedente":null,"CodFiscaleAde":null,"IndirizzoInternet2":null,"DataDocumento2":null,"TipoDocumIdentita2":null,"ProdottoInvestimento2":null,"ProdottoInvestimento1":null,"SocietaFiduciaria":null,"IscrittiALBODitteIndivid":null,"EntityCRS":null,"CognomeConiuge":null,"CentraleRischiAssociativa":null,"CodiceUIFSecondaCittad":null,"CodiceIdentificativoEstero":null,"SAEEsteroNuovo":null,"ImpFatt":"0000000000000","Abitazione":null,"TrasparenzaFiscale":null,"PosizioneFATCA":null,"FilialeDiCompetenza":"00016","SettoreFCEMIR":null,"PrefissoCell1":null,"PrefissoCell2":null,"Eredita":null,"ProtezioneAccessiDipendente":null,"CodiceFiscaleQuartaResidenzaFATCA":null,"Note5CodFiscFATCA":null,"Note4CodFiscFATCA":null,"Note2CodFiscFATCA":null,"Note3CodFiscFATCA":null,"SocCostLeggiStraniere":null,"NDGanteMigrazione":null,"CodiceFiscalePrimaResidenzaFATCA":null,"ClienteSOS":null,"EsitoAccertamento":null,"CodiceSegmento":null,"ProALBODitteIndiv":null,"RapportoDiLavoro":null,"CodiceFiscaleQuintaResidenzaFATCA":null,"LuogoDocumento2":null,"SegmentoB2":null,"TipoClienteFATCA":"NC","CodiceCorrEstero":null,"CensimentoRuoli":null,"DataFondazione":null,"FACTAEntity":null,"NazioneCostruzione":null,"CodNazCasaMadre":null,"CaiLocalita":null,"LEI":null,"TerzaResidenzaFATCA":null,"DocAggiuntivoFATCA":null,"CaiCap":null},"allineaIntestazione":null,"indicativoNormalizzazioneResidenza":"N","esitoNormalizzazioneResidenza":"indirizzo normalizzato","indicativoNormalizzazioneDomicilio":"N","esitoNormalizzazioneDomicilio":"indirizzo normalizzato","indicativoSocietaConstituenda":"N","codiceTAE":null,"descrizioneTAE":null,"flagValidazione":null,"ndgOperatore":0,"intestazioneOperatore":null,"dataUltimaVariazione":null,"flagGenerici":{"flagOperatore":"F"},"ndgOperatorePws":0,"moduloAdobe":null,"intestazioneAnagrafica":"COMUNE DI VENEZIA","statusAnagrafico1":"BON","statusAnagrafico2":null,"reteAssociataNaturaGiuridica":null,"filialeMadre":16},"headers":{"headers":{"tech_header":{"id":"tech_header","applicationCode":"CRM","correlationId":"abcd-1539856607694-efgh","channel":"B2B","timeStamp":1539856607694,"workstationId":null,"clientIpAddress":null,"clientHostname":null},"user_header":{"id":"user_header","archUser":{"name":"CRM Salesforce","surname":"SFDC","emailAddress":null,"phoneNumber":null,"userId":"ext.crm","actualUserId":"ext.crm","institute":null,"userGroups":[{"name":"Users","description":""},{"name":"NoLocalLogon","description":""}],"userRoles":[]}}}}}';

  // Ottenuta cercando PIVA="01732460264" al 18/10/2018
  public static final String PAYLOAD_RICERCA_ANAGRAFICA_RIBES_PG = '{"payload":{"data":1539867689599,"risposta":{"prodotto":{"cd":"BICLISAZ","Imprese":{"idBicLista":"94079","posizioni":"1","Impresa":[{"completa":"S","Cciaa":"TV","NRea":"164718","Denominazione":"ACCONCIATURE OK DI STOCCO DANILO E ZANCHIN FLAVIO - S.N.C.","CodFisc":"01732460264","PIva":"01732460264","NatGiu":{"cod":"SNC","gruppo":"2","content":"SOCIETA IN NOME COLLETTIVO"},"StatoAttivitaR":{"cod":"A","semaforo":"V","content":"ATTIVA"},"Ateco07":{"cod":"960201","content":"Servizi dei saloni di barbiere e parrucchiere"},"Indirizzo":{"Provincia":{"regione":"05","content":"TV"},"Comune":"CASTELFRANCO VENETO","Toponimo":"VIA","Via":"CASTELLANA,","NCivico":"47/A","Cap":"31033"}}]},"fmt":"FLD"}},"ticketId":"10898879"},"headers":{"headers":{"tech_header":{"id":"tech_header","applicationCode":"CRM","correlationId":"abcd-1539867688759-efgh","channel":"B2B","timeStamp":1539867688759,"workstationId":null,"clientIpAddress":null,"clientHostname":null},"user_header":{"id":"user_header","archUser":{"name":"CRM Salesforce","surname":"SFDC","emailAddress":null,"phoneNumber":null,"userId":"ext.crm","actualUserId":"ext.crm","institute":null,"userGroups":[{"name":"Users","description":""},{"name":"NoLocalLogon","description":""}],"userRoles":[]}}}}}';
  
}