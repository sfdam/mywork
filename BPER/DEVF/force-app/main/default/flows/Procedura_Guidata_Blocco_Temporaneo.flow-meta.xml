<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <apiVersion>50.0</apiVersion>
    <assignments>
        <name>Assign_Record_Id</name>
        <label>Assign Record Id</label>
        <locationX>247</locationX>
        <locationY>647</locationY>
        <assignmentItems>
            <assignToReference>CaseRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Case_Resume_Info</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Record_Id_0</name>
        <label>Assign Record Id</label>
        <locationX>50</locationX>
        <locationY>665</locationY>
        <assignmentItems>
            <assignToReference>CaseRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>messagingSession.CaseId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Case_Resume_Info</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>FrodeRiemissioneChoice</name>
        <choiceText>{!FrodeConRiemissioneAIndirizzoDiverso}</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>FrodeConRiemissioneAIndirizzoDiverso</elementReference>
        </value>
    </choices>
    <choices>
        <name>NoChoice</name>
        <choiceText>NO</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>NO</stringValue>
        </value>
    </choices>
    <choices>
        <name>SospettaFrodeChoice</name>
        <choiceText>{!SospettaFrode}</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>SospettaFrode</elementReference>
        </value>
    </choices>
    <choices>
        <name>SospettoSmarrimentoChoice</name>
        <choiceText>{!SospettoSmarrimento}</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>SospettoSmarrimento</elementReference>
        </value>
    </choices>
    <choices>
        <name>YesChoice</name>
        <choiceText>SI</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>SI</stringValue>
        </value>
    </choices>
    <constants>
        <name>FrodeConRiemissioneAIndirizzoDiverso</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Frode con riemissione a indirizzo diverso</stringValue>
        </value>
    </constants>
    <constants>
        <name>SospettaFrode</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Sospetta frode</stringValue>
        </value>
    </constants>
    <constants>
        <name>SospettoSmarrimento</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Sospetto smarrimento</stringValue>
        </value>
    </constants>
    <constants>
        <name>YesOption</name>
        <dataType>String</dataType>
        <value>
            <stringValue>SI</stringValue>
        </value>
    </constants>
    <decisions>
        <name>Check_Blocco_Carta</name>
        <label>Check Blocco Carta</label>
        <locationX>1334</locationX>
        <locationY>1268</locationY>
        <defaultConnector>
            <targetReference>Blocco_Temporaneo_Disclaimer</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Card_Already_Blocked</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Hai_gi_bloccato_la_carta_con_blocco_temporaneo_e_modificato_l_indirizzo_di_spedi</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>YesOption</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Team_Livello_2_Disclaimer</targetReference>
            </connector>
            <label>Card Already Blocked</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Card_Block_Reason</name>
        <label>Check Card Block Reason</label>
        <locationX>1114</locationX>
        <locationY>646</locationY>
        <defaultConnector>
            <targetReference>Temporary_Block_Disclaimer</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Frode_con_Riemissione</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Block_Reason_Picklist_UI</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>FrodeRiemissioneChoice</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Blocco_New_Screen</targetReference>
            </connector>
            <label>Frode con Riemissione</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_Account_Id_is_null</name>
        <label>Check if Account Id is null</label>
        <locationX>680</locationX>
        <locationY>732</locationY>
        <defaultConnector>
            <targetReference>Select_Asset</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Account_Id_is_null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.AccountId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Associare_un_Account_al_Caso_prima_di_navigare_il_flow</targetReference>
            </connector>
            <label>Account Id is null</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_Asset_Id_is_a_Posizione_Aziendale</name>
        <label>Check if Asset Id is a Posizione Aziendale</label>
        <locationX>824</locationX>
        <locationY>50</locationY>
        <defaultConnector>
            <targetReference>Update_Asset_Id</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>is_Posizione_Aziendale</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_financial_Account_related_to_Asset_Id.FinServ__ProductName__r.CRM_SubGroup__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Posizione Aziendale</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Select_Asset</targetReference>
            </connector>
            <label>is Posizione Aziendale</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_there_s_an_asset_id</name>
        <label>Check if there&apos;s an asset id</label>
        <locationX>638</locationX>
        <locationY>328</locationY>
        <defaultConnector>
            <targetReference>Error_message</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>There_s_asset_Id</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>AssetId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_financial_Account_related_to_Asset_Id</targetReference>
            </connector>
            <label>There&apos;s asset Id</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_input_variables</name>
        <label>Check input variables</label>
        <locationX>112</locationX>
        <locationY>521</locationY>
        <defaultConnector>
            <targetReference>Assign_Record_Id</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Esito predefinito</defaultConnectorLabel>
        <rules>
            <name>recordID_is_set</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>recordId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Record_Id</targetReference>
            </connector>
            <label>recordID is set</label>
        </rules>
        <rules>
            <name>messagingSession_is_set</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>messagingSession</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Record_Id_0</targetReference>
            </connector>
            <label>messagingSession is set</label>
        </rules>
    </decisions>
    <decisions>
        <name>Resume_Flow_Gateway</name>
        <label>Resume Flow Gateway</label>
        <locationX>839</locationX>
        <locationY>962</locationY>
        <defaultConnector>
            <targetReference>Check_if_Account_Id_is_null</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Flow_Already_Completed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_IsCompletedFlow__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Flow_Already_Completed_Disclaimer</targetReference>
            </connector>
            <label>Flow Already Completed</label>
        </rules>
        <rules>
            <name>Card_Blocked_And_Address_Changed_Yes_Option</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_CardTempBlockedAndAddressChanged__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>SI</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_IsCompletedFlow__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Team_Livello_2_Disclaimer</targetReference>
            </connector>
            <label>Card Blocked And Address Changed Yes Option</label>
        </rules>
        <rules>
            <name>Card_Blocked_And_Address_Changed_No_Option</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_CardTempBlockedAndAddressChanged__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>NO</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_IsCompletedFlow__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Blocco_Temporaneo_Disclaimer</targetReference>
            </connector>
            <label>Card Blocked And Address Changed No Option</label>
        </rules>
        <rules>
            <name>Is_Blocco_New_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_BloccoNEW__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_IsCompletedFlow__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Already_Blocked_Card_Screen</targetReference>
            </connector>
            <label>Is Blocco New Populated</label>
        </rules>
        <rules>
            <name>Card_Reason_Populated_Sospetta_Frode_Smarrimento</name>
            <conditionLogic>(1 OR 2) AND 3 AND 4</conditionLogic>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_ReasonForCardBlocking__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Sospetta frode</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_ReasonForCardBlocking__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Sospetto smarrimento</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_IsCompletedFlow__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_CardTempBlockedAndAddressChanged__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Temporary_Block_Disclaimer</targetReference>
            </connector>
            <label>Card Reason Populated Sospetta Frode Smarrimento</label>
        </rules>
        <rules>
            <name>Card_Reason_Populated_Frode_Con_Riemissione</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_ReasonForCardBlocking__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Frode con riemissione a indirizzo diverso</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_CardTempBlockedAndAddressChanged__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.CRM_IsCompletedFlow__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Blocco_New_Screen</targetReference>
            </connector>
            <label>Card Reason Populated Frode Con Riemissione</label>
        </rules>
        <rules>
            <name>Asset_Already_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Case_Resume_Info.FinServ__FinancialAccount__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Seleziona_il_motivo_del_blocco</targetReference>
            </connector>
            <label>Asset Already Populated</label>
        </rules>
    </decisions>
    <dynamicChoiceSets>
        <name>BloccoNew</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>CRM_BloccoNEW__c</picklistField>
        <picklistObject>Case</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>CardTempBlockedAndAddressChanged</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>CRM_CardTempBlockedAndAddressChanged__c</picklistField>
        <picklistObject>Case</picklistObject>
    </dynamicChoiceSets>
    <interviewLabel>Procedura Guidata Blocco Temporaneo {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Procedura Guidata Blocco Temporaneo</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <name>Get_Case_Resume_Info</name>
        <label>Get Case Resume Info</label>
        <locationX>287</locationX>
        <locationY>880</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Resume_Flow_Gateway</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseRecordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Case</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>CRM_ReasonForCardBlocking__c</queriedFields>
        <queriedFields>CRM_CardTempBlockedAndAddressChanged__c</queriedFields>
        <queriedFields>CRM_IsCompletedFlow__c</queriedFields>
        <queriedFields>CRM_IsLocked__c</queriedFields>
        <queriedFields>CRM_BloccoNEW__c</queriedFields>
        <queriedFields>FinServ__FinancialAccount__c</queriedFields>
        <queriedFields>AccountId</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_financial_Account_related_to_Asset_Id</name>
        <label>Get financial Account related to Asset Id</label>
        <locationX>649</locationX>
        <locationY>125</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_if_Asset_Id_is_a_Posizione_Aziendale</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>AssetId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>FinServ__FinancialAccount__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <description>flag Case.CRM_IsCompletedFlow__c = true</description>
        <name>Completed_Flow_Checkbox</name>
        <label>Completed Flow Checkbox</label>
        <locationX>1631</locationX>
        <locationY>656</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>CRM_Hesitation__c</field>
            <value>
                <stringValue>Eseguita operazione</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CRM_IsCompletedFlow__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CRM_Notes__c</field>
            <value>
                <elementReference>Notes</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Asset_Id</name>
        <label>Update Asset Id</label>
        <locationX>1003</locationX>
        <locationY>287</locationY>
        <connector>
            <targetReference>Seleziona_il_motivo_del_blocco</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>FinServ__FinancialAccount__c</field>
            <value>
                <elementReference>AssetId</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Blocco_New</name>
        <label>Update Blocco New</label>
        <locationX>1485</locationX>
        <locationY>826</locationY>
        <connector>
            <targetReference>Already_Blocked_Card_Screen</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>CRM_BloccoNEW__c</field>
            <value>
                <elementReference>E_un_blocco_New_Picklist_UI</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_CardTempBlockedAndAddressChanged</name>
        <label>Update CardTempBlockedAndAddressChanged</label>
        <locationX>1051</locationX>
        <locationY>1265</locationY>
        <connector>
            <targetReference>Check_Blocco_Carta</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>CRM_CardTempBlockedAndAddressChanged__c</field>
            <value>
                <elementReference>Hai_gi_bloccato_la_carta_con_blocco_temporaneo_e_modificato_l_indirizzo_di_spedi</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Completed_Flow_and_Lock_Case</name>
        <label>Update Completed Flow</label>
        <locationX>1758</locationX>
        <locationY>1079</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>CRM_FraudEscalationTo2LevelStartDate__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CRM_Hesitation__c</field>
            <value>
                <stringValue>Eseguita operazione</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CRM_IsCompletedFlow__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CRM_Notes__c</field>
            <value>
                <elementReference>Notes2</elementReference>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Reason_For_Card_Blocking</name>
        <label>Update Reason For Card Blocking</label>
        <locationX>1234</locationX>
        <locationY>389</locationY>
        <connector>
            <targetReference>Check_Card_Block_Reason</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>CaseRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>CRM_Area__c</field>
            <value>
                <stringValue>Cards</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CRM_Level1__c</field>
            <value>
                <stringValue>Temporaneo</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CRM_ReasonForCardBlocking__c</field>
            <value>
                <elementReference>Block_Reason_Picklist_UI</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CRM_Scope__c</field>
            <value>
                <stringValue>Blocco/sblocco</stringValue>
            </value>
        </inputAssignments>
        <object>Case</object>
    </recordUpdates>
    <screens>
        <name>Already_Blocked_Card_Screen</name>
        <label>Already Blocked Card Screen</label>
        <locationX>1280</locationX>
        <locationY>892</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Update_CardTempBlockedAndAddressChanged</targetReference>
        </connector>
        <fields>
            <name>Hai_gi_bloccato_la_carta_con_blocco_temporaneo_e_modificato_l_indirizzo_di_spedi</name>
            <choiceReferences>CardTempBlockedAndAddressChanged</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Hai già bloccato la carta con blocco temporaneo e modificato l’indirizzo di spedizione?</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Associare_un_Account_al_Caso_prima_di_navigare_il_flow</name>
        <label>Associare un Account al Caso prima di navigare il flow</label>
        <locationX>788</locationX>
        <locationY>602</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Text_Associare_un_Account_al_Caso_prima_di_navigare_il_flow</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 16px; color: rgb(62, 62, 60);&quot;&gt;Associare un Account al Caso prima di navigare il flow.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Blocco_New_Screen</name>
        <label>Blocco New Screen</label>
        <locationX>1328</locationX>
        <locationY>778</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Update_Blocco_New</targetReference>
        </connector>
        <fields>
            <name>E_un_blocco_New_Picklist_UI</name>
            <choiceReferences>BloccoNew</choiceReferences>
            <dataType>String</dataType>
            <fieldText>E&apos; un blocco New?</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Blocco_Temporaneo_Disclaimer</name>
        <label>Blocco Temporaneo Disclaimer</label>
        <locationX>1548</locationX>
        <locationY>1444</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Team_Livello_2_Disclaimer</targetReference>
        </connector>
        <fields>
            <name>BloccoTemporaneoMessage</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Apponi il blocco temporaneo, modifica l’indirizzo e poi clicca su &quot;Avanti&quot;.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_message</name>
        <label>Error message</label>
        <locationX>846</locationX>
        <locationY>428</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Errormessage</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;Non è possibile procedere col flow in quanto non è presente nessuna carta da bloccare&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Flow_Already_Completed_Disclaimer</name>
        <label>Flow Already Completed Disclaimer</label>
        <locationX>624</locationX>
        <locationY>1158</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>FlowAlreadyCompletedMessage</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Hai già completato la procedura guidata&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Select_Asset</name>
        <label>Select Asset</label>
        <locationX>442</locationX>
        <locationY>464</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Check_if_there_s_an_asset_id</targetReference>
        </connector>
        <fields>
            <name>Error_Message_Posizione_Aziendale</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;Non è possibile bloccare una posizione aziendale. &lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;Selezionare un altro tipo di carta per navigare gli step successivi della procedura guidata.&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Get_financial_Account_related_to_Asset_Id.FinServ__ProductName__r.CRM_SubGroup__c</leftValueReference>
                    <operator>Contains</operator>
                    <rightValue>
                        <stringValue>Posizione Aziendale</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>SelectAssetComponent</name>
            <extensionName>c:frodeTable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>caseId</name>
                <value>
                    <elementReference>CaseRecordId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>flow</name>
                <value>
                    <numberValue>1.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>title</name>
                <value>
                    <stringValue>Seleziona la carta da bloccare</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>errorMessage</name>
                <value>
                    <stringValue>Nessun prodotto trovato</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>AssetId</assignToReference>
                <name>output</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Seleziona_il_motivo_del_blocco</name>
        <label>Seleziona il motivo del blocco</label>
        <locationX>997</locationX>
        <locationY>502</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Update_Reason_For_Card_Blocking</targetReference>
        </connector>
        <fields>
            <name>Block_Reason_Picklist_UI</name>
            <choiceReferences>SospettaFrodeChoice</choiceReferences>
            <choiceReferences>SospettoSmarrimentoChoice</choiceReferences>
            <choiceReferences>FrodeRiemissioneChoice</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Seleziona il motivo del blocco</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Team_Livello_2_Disclaimer</name>
        <label>Team Livello 2 Disclaimer</label>
        <locationX>1470</locationX>
        <locationY>1028</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Update_Completed_Flow_and_Lock_Case</targetReference>
        </connector>
        <fields>
            <name>TeamLivello2Message</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Comunica al cliente il numero del Caso. Il caso&amp;nbsp;sarà gestito domani per il blocco dedefinitivo. Scrivi di seguito delle note e clicca su &quot;Avanti&quot;.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Notes2</name>
            <fieldText>Note</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Temporary_Block_Disclaimer</name>
        <label>Temporary Block Disclaimer</label>
        <locationX>1350</locationX>
        <locationY>641</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Completed_Flow_Checkbox</targetReference>
        </connector>
        <fields>
            <name>TemporaryBlockMessage</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;Prima d concluderei il flow,&amp;nbsp;se non lo hai fatto,&amp;nbsp;apponi il blocco temporaneo sulla carta. Scrivi di seguito delle note. Se lo hai fatto clicca su &quot;Avanti&quot;.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Notes</name>
            <fieldText>Note</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>119</locationX>
        <locationY>308</locationY>
        <connector>
            <targetReference>Check_input_variables</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>AssetId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Variable to store case record id</description>
        <name>CaseRecordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>messagingSession</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>MessagingSession</objectType>
    </variables>
    <variables>
        <description>Variable to receive recordId passed from page</description>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
