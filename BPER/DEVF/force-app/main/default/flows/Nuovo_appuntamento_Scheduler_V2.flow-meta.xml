<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionCalls>
        <name>Save_Appointment</name>
        <label>Save Appointment</label>
        <locationX>2417</locationX>
        <locationY>1653</locationY>
        <actionName>saveAppointment</actionName>
        <actionType>saveAppointment</actionType>
        <connector>
            <targetReference>Get_PrimaryServiceResource</targetReference>
        </connector>
        <faultConnector>
            <targetReference>SetReviewStage</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>serviceAppointmentFields</name>
            <value>
                <elementReference>Formula_serviceAppointmentFields</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>selectedTimezone</name>
            <value>
                <elementReference>selectedTimezone</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>optionalServiceResourceId</name>
            <value>
                <elementReference>optionalAttendees</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>serviceResources</name>
            <value>
                <elementReference>serviceResources</elementReference>
            </value>
        </inputParameters>
        <nameSegment>saveAppointment</nameSegment>
        <outputParameters>
            <assignToReference>ServiceAppointment.Id</assignToReference>
            <name>serviceAppointmentId</name>
        </outputParameters>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>52.0</apiVersion>
    <assignments>
        <name>Assign_Outputs</name>
        <label>Assign Outputs</label>
        <locationX>2887</locationX>
        <locationY>1854</locationY>
        <assignmentItems>
            <assignToReference>NoteAppuntamento</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Note</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Assign_WorkTypeGroupID</name>
        <label>Assign WorkTypeGroupID</label>
        <locationX>981</locationX>
        <locationY>1061</locationY>
        <assignmentItems>
            <assignToReference>workTypeGroupId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_WorkTpyeGroupMember.WorkTypeGroup.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_canale</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Clear_Selected_Values_on_Change</name>
        <label>Clear Selected Values on Change</label>
        <locationX>1472</locationX>
        <locationY>1629</locationY>
        <assignmentItems>
            <assignToReference>ServiceAppointment.AdditionalInformation</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.Comments</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.AppointmentType</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.Street</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.City</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.State</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.PostalCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.Country</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.ServiceTerritoryId</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.SchedStartTime</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.SchedEndTime</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>optionalAttendees</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>serviceAppointmentFields</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>validationErrors</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>workTypeGroupId</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>selectedTriageOption</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FIND_RESOURCE</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>AttendeesStage</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>changePrimary</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>serviceResources</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>skillsStartDate</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Primary_Resource_Change_Screen_Decision</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_campaign_members_list</name>
        <label>Set campaign members list</label>
        <locationX>2614</locationX>
        <locationY>1839</locationY>
        <assignmentItems>
            <assignToReference>List_CampaignMembersSelected</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>TempCampaignMember</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>SetConfirmationStage</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_SA_info</name>
        <label>Set SA info</label>
        <locationX>1713</locationX>
        <locationY>1455</locationY>
        <assignmentItems>
            <assignToReference>ServiceAppointment.ServiceTerritoryId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>serviceTerritoryId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.ParentRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.Email</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ContactEmail</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_ServiceTerritory</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_SA_info_0</name>
        <label>Set SA info</label>
        <locationX>1981</locationX>
        <locationY>1289</locationY>
        <assignmentItems>
            <assignToReference>ServiceAppointment.ServiceTerritoryId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_territory_Rete.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>serviceResourceId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Service_Resource_by_UserId.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.ParentRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.Email</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ContactEmail</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>serviceTerritoryId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_territory_Rete.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_ServiceTerritory</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_temp_campaign_member</name>
        <label>Set temp campaign member</label>
        <locationX>2401</locationX>
        <locationY>1812</locationY>
        <assignmentItems>
            <assignToReference>TempCampaignMember.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>campaignMemberId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TempCampaignMember.Status</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Fissato appuntamento</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>TempCampaignMember.CRM_ServiceAppointment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ServiceAppointment.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_campaign_members_list</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Triage_Option</name>
        <label>Set Triage Option</label>
        <locationX>1034</locationX>
        <locationY>1630</locationY>
        <assignmentItems>
            <assignToReference>selectedTriageOption</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FIND_RESOURCE</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Selezione_durata_appuntamento</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>SetConfirmationStage</name>
        <label>Set Confirmation Stage</label>
        <locationX>2764</locationX>
        <locationY>1847</locationY>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ConfirmationStage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Outputs</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>SetInitialValues</name>
        <label>Set Initial Values</label>
        <locationX>413</locationX>
        <locationY>1081</locationY>
        <assignmentItems>
            <assignToReference>ServiceAppointment.ParentRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.AdditionalInformation</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.Comments</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.AppointmentType</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.Street</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.City</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.State</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.PostalCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.Country</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.ServiceTerritoryId</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.SchedStartTime</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.SchedEndTime</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>optionalAttendees</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>serviceAppointmentFields</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>validationErrors</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>workTypeGroupId</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>serviceResourceId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Service_Resource_by_UserId.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>selectedTriageOption</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>FIND_RESOURCE</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>selectedTimezone</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ServiceAppointment.IsAnonymousBooking</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Scelta_appuntamento_gi_fissato</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>SetReviewStage</name>
        <label>Set Review Stage</label>
        <locationX>2173</locationX>
        <locationY>1564</locationY>
        <assignmentItems>
            <assignToReference>$Flow.CurrentStage</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ReviewStage</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>ConfirmationScreenMsg</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>Option_ClienteHaEmail_No</name>
        <choiceText>No</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>No</stringValue>
        </value>
    </choices>
    <choices>
        <name>Option_ClienteHaEmail_Si</name>
        <choiceText>Sì</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Sì</stringValue>
        </value>
    </choices>
    <choices>
        <name>Option_EmailCorretta_No</name>
        <choiceText>No</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>No</stringValue>
        </value>
    </choices>
    <choices>
        <name>Option_EmailCorretta_Si</name>
        <choiceText>Sì</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Sì</stringValue>
        </value>
    </choices>
    <constants>
        <name>FIND_RESOURCE</name>
        <dataType>String</dataType>
        <value>
            <stringValue>findResource</stringValue>
        </value>
    </constants>
    <constants>
        <name>SPECIFIC</name>
        <dataType>String</dataType>
        <value>
            <stringValue>specific</stringValue>
        </value>
    </constants>
    <decisions>
        <name>Change_Primary</name>
        <label>Change Primary</label>
        <locationX>1788</locationX>
        <locationY>1625</locationY>
        <defaultConnector>
            <targetReference>SetReviewStage</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Change_Primary_Selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>changePrimary</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Clear_Selected_Values_on_Change</targetReference>
            </connector>
            <label>Change Primary Selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_appointmentDuration</name>
        <label>Check appointmentDuration</label>
        <locationX>721</locationX>
        <locationY>1440</locationY>
        <defaultConnector>
            <targetReference>Selezione_durata_appuntamento</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Null</defaultConnectorLabel>
        <rules>
            <name>Duration_is_set</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>appointmentEstimatedDuration</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_WorkType</targetReference>
            </connector>
            <label>Duration is set</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_canale</name>
        <label>Check canale</label>
        <locationX>1804</locationX>
        <locationY>1081</locationY>
        <defaultConnector>
            <targetReference>Get_territory_Rete</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Rete</defaultConnectorLabel>
        <rules>
            <name>Contact_Center</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>channel</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Contact Center</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Selezione_risorsa_primaria</targetReference>
            </connector>
            <label>Contact Center</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_canale_0</name>
        <label>Check canale</label>
        <locationX>896</locationX>
        <locationY>1518</locationY>
        <defaultConnector>
            <targetReference>Check_appointmentDuration</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Rete</defaultConnectorLabel>
        <rules>
            <name>Contact_Center_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>channel</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Contact Center</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Selezione_filiale_1</targetReference>
            </connector>
            <label>Contact Center</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_NewAppointmentOrNot</name>
        <label>Check NewAppointmentOrNot</label>
        <locationX>468</locationX>
        <locationY>1928</locationY>
        <defaultConnector>
            <targetReference>Set_temp_campaign_member</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Already scheduled appointment</defaultConnectorLabel>
        <rules>
            <name>New_appointment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>isNewAppointment</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Imposta_titolo_appuntamento</targetReference>
            </connector>
            <label>New appointment</label>
        </rules>
    </decisions>
    <decisions>
        <name>Primary_Resource_Change_Screen_Decision</name>
        <label>Primary Resource Change Screen Decision</label>
        <locationX>1303</locationX>
        <locationY>1622</locationY>
        <defaultConnector>
            <targetReference>Selezione_durata_appuntamento</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Filter_By_Resource_ID</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>FilterByResourceIds</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Triage_Option</targetReference>
            </connector>
            <label>Filter By Resource IDs</label>
        </rules>
    </decisions>
    <dynamicChoiceSets>
        <name>OpzioniIncontro</name>
        <dataType>Multipicklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>CRM_OpzioniIncontro__c</picklistField>
        <picklistObject>ServiceAppointment</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>SceltaTopicList</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>CRM_SceltaTopic__c</picklistField>
        <picklistObject>ServiceAppointment</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>SlotsPicklist</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>CRM_SlotsRete__c</picklistField>
        <picklistObject>WorkTypeGroup</picklistObject>
    </dynamicChoiceSets>
    <formulas>
        <name>Formula_ContactEmail</name>
        <dataType>String</dataType>
        <expression>IF(!ISBLANK({!Get_NDG.CRM_SmartWebEmail__c}), {!Get_NDG.CRM_SmartWebEmail__c}, {!Get_NDG.CRM_GenericEmail__c})</expression>
    </formulas>
    <formulas>
        <name>Formula_DefaultSATitle</name>
        <dataType>String</dataType>
        <expression>IF( 
{!Get_NDG.RecordType.DeveloperName} = &apos;IndustriesBusiness&apos;, 
{!Get_NDG.Name},
{!Get_NDG.FirstName} + &quot; &quot; + {!Get_NDG.LastName}
) + &quot; - Attività commerciali&quot;</expression>
    </formulas>
    <formulas>
        <name>Formula_EnteredFilialeNameLength</name>
        <dataType>Number</dataType>
        <expression>LEN({!EnteredFilialeName})</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>Formula_IdCEDBanca</name>
        <dataType>String</dataType>
        <expression>IF (
{!Get_NDG.PTF_PortafoglioAssegnato__c},
{!Get_NDG.PTF_Banca__r.PTF_IdCED__c},
{!Get_NDG.CRM_Filiale__r.PTF_Banca__r.PTF_IdCED__c}
)</expression>
    </formulas>
    <formulas>
        <name>Formula_IsUtenteRete</name>
        <dataType>Boolean</dataType>
        <expression>CONTAINS({!$Profile.Name}, &apos;NEC_&apos;)</expression>
    </formulas>
    <formulas>
        <name>Formula_SchedEndTime</name>
        <dataType>String</dataType>
        <expression>SUBSTITUTE(SUBSTITUTE(TEXT({!ServiceAppointment.SchedEndTime}),  &quot; &quot;, &quot;T&quot;), &quot;:00Z&quot;, &quot;:00.000Z&quot;)</expression>
    </formulas>
    <formulas>
        <name>Formula_SchedStartTime</name>
        <dataType>String</dataType>
        <expression>SUBSTITUTE(SUBSTITUTE(TEXT({!ServiceAppointment.SchedStartTime}),  &quot; &quot;, &quot;T&quot;), &quot;:00Z&quot;, &quot;:00.000Z&quot;)</expression>
    </formulas>
    <formulas>
        <name>Formula_serviceAppointmentFields</name>
        <dataType>String</dataType>
        <expression>&apos;{&apos; + &apos;&quot;AdditionalInformation&quot;:&apos; + &apos;&quot;&quot;&apos; + &apos;, &apos; + &apos;&quot;AppointmentType&quot;:&apos; + &apos;&quot;&quot;&apos; + &apos;, &apos; + &apos;&quot;Comments&quot;:&apos; + &apos;&quot;&quot;&apos; +  &apos;, &apos; + &apos;&quot;ParentRecordId&quot;:&apos; + &apos;&quot;&apos;+{!recordId}+&apos;&quot;&apos; + &apos;, &apos; + &apos;&quot;ServiceTerritoryId&quot;:&apos; + &apos;&quot;&apos;+{!ServiceAppointment.ServiceTerritoryId}+&apos;&quot;&apos; + &apos;, &apos; + &apos;&quot;ServiceResourceId&quot;:&apos; + &apos;&quot;&apos;+{!serviceResourceId}+&apos;&quot;&apos; + &apos;, &apos; + &apos;&quot;WorkTypeGroupId&quot;:&apos; + &apos;&quot;&apos;+{!workTypeGroupId}+&apos;&quot;&apos; + &apos;, &apos; + &apos;&quot;SchedStartTime&quot;:&apos; + &apos;&quot;&apos;+{!Formula_SchedStartTime}+&apos;&quot;&apos; + &apos;, &apos; + &apos;&quot;SchedEndTime&quot;:&apos; + &apos;&quot;&apos;+ {!Formula_SchedEndTime} +&apos;&quot;&apos; + &apos;, &apos; + &apos;&quot;Description&quot;:&apos; + &apos;&quot;&quot;&apos; +  &apos;, &apos; + &apos;&quot;Phone&quot;:&apos; + &apos;&quot;&quot;&apos; + &apos;, &apos; + &apos;&quot;ContactId&quot;:&apos; + &apos;&quot;&quot;&apos; + &apos;, &apos; + &apos;&quot;isSlotChanged&quot;:&apos; + &apos;false&apos; + &apos;, &apos; +  &apos;&quot;CRM_Note__c&quot;:&apos; + IF(NOT(ISBLANK({!Note})), &apos;&quot;&apos;+{!Note} + &apos;&quot;&apos;, &apos;&quot;&quot;&apos;) + &apos;, &apos; + &apos;&quot;Subject&quot;:&apos; + &apos;&quot;&apos; + {!TitoloAppuntamentoText} + &apos;&quot;&apos; + &apos;, &apos; + &apos;&quot;CRM_AttivitaCommerciali__c&quot;:&apos; + &apos;true&apos; + &apos;, &apos; + &apos;&quot;Status&quot;:&apos; +  &apos;&quot;Programmato&quot;&apos; + &apos;, &apos; + 
&apos;&quot;Email&quot;:&apos; + &apos;&quot;&apos; + {!ContactEmail} + &apos;&quot;&apos; + &apos;}&apos;</expression>
    </formulas>
    <interviewLabel>Nuovo appuntamento - Scheduler - V2 {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Nuovo appuntamento - Scheduler - Esitazione CM</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processType>Appointments</processType>
    <recordLookups>
        <name>Get_Filiale</name>
        <label>Get Filiale</label>
        <locationX>594</locationX>
        <locationY>1556</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_appointmentDuration</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>filialeId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_NDG</name>
        <label>Get NDG</label>
        <locationX>196</locationX>
        <locationY>657</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Contact_by_Account</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>CRM_Nome__c</queriedFields>
        <queriedFields>FinServ__BankNumber__c</queriedFields>
        <queriedFields>EA_Abi__c</queriedFields>
        <queriedFields>PTF_Filiale__c</queriedFields>
        <queriedFields>FirstName</queriedFields>
        <queriedFields>LastName</queriedFields>
        <queriedFields>PTF_PortafoglioAssegnato__c</queriedFields>
        <queriedFields>PTF_IdCED__c</queriedFields>
        <queriedFields>PTF_Banca__c</queriedFields>
        <queriedFields>RecordTypeId</queriedFields>
        <queriedFields>Name</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_PrimaryServiceResource</name>
        <label>Get PrimaryServiceResource</label>
        <locationX>2581</locationX>
        <locationY>1604</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Update_ServiceAppointmentFields</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ServiceAppointmentId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ServiceAppointment.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>IsPrimaryResource</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>AssignedResource</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Service_Resource_by_UserId</name>
        <label>Get Service Resource by UserId</label>
        <locationX>407</locationX>
        <locationY>510</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_NDG</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>RelatedRecordId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ServiceResource</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_ServiceTerritory</name>
        <label>Get ServiceTerritory</label>
        <locationX>1858</locationX>
        <locationY>1393</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>TimeSlotScreen</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>IDCED_Filiale__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Formula_IdCEDBanca</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ServiceTerritory</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_territory_Rete</name>
        <label>Get territory Rete</label>
        <locationX>2119</locationX>
        <locationY>1226</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_SA_info_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>CRM_ABI__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$User.abi__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>IDCED_Filiale__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$User.idced__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>ServiceTerritory</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_WorkTpyeGroupMember</name>
        <label>Get WorkTpyeGroupMember</label>
        <locationX>800</locationX>
        <locationY>1041</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_WorkTypeGroupID</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>WorkTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_WorkType.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>WorkTypeGroupMember</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_WorkType</name>
        <label>Get WorkType</label>
        <locationX>791</locationX>
        <locationY>1232</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_WorkTpyeGroupMember</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>EstimatedDuration</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>appointmentEstimatedDuration</elementReference>
            </value>
        </filters>
        <filters>
            <field>DurationType</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>appointmentDurationType</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>WorkType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_ServiceAppointmentFields</name>
        <label>Update ServiceAppointmentFields</label>
        <locationX>2790</locationX>
        <locationY>1660</locationY>
        <connector>
            <targetReference>Set_temp_campaign_member</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ServiceAppointment.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>CRM_PrimaryResourceName__c</field>
            <value>
                <elementReference>Get_PrimaryServiceResource.CRM_NomeGestore__c</elementReference>
            </value>
        </inputAssignments>
        <object>ServiceAppointment</object>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <name>ConfirmationScreenMsg</name>
        <label>ConfirmationScreen</label>
        <locationX>2303</locationX>
        <locationY>1409</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Save_Appointment</targetReference>
        </connector>
        <fields>
            <name>Note</name>
            <fieldText>Note</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>Title</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;Cliccare &lt;/span&gt;&lt;b style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;Avanti &lt;/b&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;per confermare l&apos;inserimento dell&apos;appuntamento.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Imposta_titolo_appuntamento</name>
        <label>Imposta titolo appuntamento</label>
        <locationX>815</locationX>
        <locationY>1779</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Check_canale_0</targetReference>
        </connector>
        <fields>
            <name>TitoloTitle</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;Inserisci il titolo dell&apos;appuntamento&lt;/b&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>TitoloAppuntamentoText</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>Formula_DefaultSATitle</elementReference>
            </defaultValue>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>TimeSlotScreen</name>
        <label>Time Slot Screen</label>
        <locationX>2012</locationX>
        <locationY>1477</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Change_Primary</targetReference>
        </connector>
        <fields>
            <name>flowTimeslot</name>
            <extensionName>runtime_appointmentbooking:flowTimeslot</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>showTimeZonePicklist</name>
                <value>
                    <elementReference>showTimeZonePicklist</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>parentRecordId</name>
                <value>
                    <elementReference>ServiceAppointment.ParentRecordId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>serviceResourceId</name>
                <value>
                    <elementReference>serviceResourceId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>serviceTerritoryId</name>
                <value>
                    <elementReference>Get_ServiceTerritory.Id</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>currStartDate</name>
                <value>
                    <elementReference>startDate</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>validationErrors</name>
                <value>
                    <elementReference>validationErrors</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>workTypeGroupId</name>
                <value>
                    <elementReference>workTypeGroupId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectedEndTime</name>
                <value>
                    <elementReference>ServiceAppointment.SchedEndTime</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectedStartTime</name>
                <value>
                    <elementReference>ServiceAppointment.SchedStartTime</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>serviceResources</name>
                <value>
                    <elementReference>serviceResources</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>skillsStartDate</name>
                <value>
                    <elementReference>skillsStartDate</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isAnonymousBooking</name>
                <value>
                    <elementReference>ServiceAppointment.IsAnonymousBooking</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>schedulingPolicyName</name>
                <value>
                    <elementReference>SchedulingPolicyName</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>filterByResources</name>
                <value>
                    <elementReference>FilterByResourceIds</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>preselectedTimezone</name>
                <value>
                    <elementReference>DefaultTimeZone</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectedTimezone</name>
                <value>
                    <elementReference>selectedTimezone</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isHideSkip</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>workType</name>
                <value>
                    <elementReference>workType</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>ResetValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <outputParameters>
                <assignToReference>ServiceAppointment.SchedEndTime</assignToReference>
                <name>selectedEndTime</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>ServiceAppointment.SchedStartTime</assignToReference>
                <name>selectedStartTime</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>validationErrors</assignToReference>
                <name>validationErrors</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>startDate</assignToReference>
                <name>currStartDate</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>changePrimary</assignToReference>
                <name>changePrimary</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>workTypeGroupId</assignToReference>
                <name>workTypeGroupId</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>ServiceAppointment.ServiceTerritoryId</assignToReference>
                <name>serviceTerritoryId</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>serviceResourceId</assignToReference>
                <name>serviceResourceId</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>serviceResources</assignToReference>
                <name>serviceResources</name>
            </outputParameters>
            <outputParameters>
                <assignToReference>selectedTimezone</assignToReference>
                <name>selectedTimezone</name>
            </outputParameters>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <stages>
        <name>AttendeesStage</name>
        <isActive>true</isActive>
        <label>Select Attendees</label>
        <stageOrder>0</stageOrder>
    </stages>
    <stages>
        <name>ConfirmationStage</name>
        <isActive>true</isActive>
        <label>Confirmation</label>
        <stageOrder>70</stageOrder>
    </stages>
    <stages>
        <name>ReviewStage</name>
        <isActive>true</isActive>
        <label>Review</label>
        <stageOrder>60</stageOrder>
    </stages>
    <start>
        <locationX>50</locationX>
        <locationY>396</locationY>
        <connector>
            <targetReference>Get_Service_Resource_by_UserId</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Get_Contact_by_Account</name>
        <label>Get Contact by Account</label>
        <locationX>309</locationX>
        <locationY>831</locationY>
        <connector>
            <targetReference>SetInitialValues</targetReference>
        </connector>
        <flowName>Get_Contact_by_Account</flowName>
        <inputAssignments>
            <name>Account</name>
            <value>
                <elementReference>Get_NDG</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>Contact</assignToReference>
            <name>Contact</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Inserimento_email_cliente_v2</name>
        <label>Inserimento email cliente v2</label>
        <locationX>2025</locationX>
        <locationY>1693</locationY>
        <flowName>Nuovo_appuntamento_Scheduler_Inserimento_email_cliente_v2</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>Get_NDG.Id</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>ContactEmail</assignToReference>
            <name>appointmentEmail</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Scelta_appuntamento_gi_fissato</name>
        <label>Scelta appuntamento già fissato</label>
        <locationX>404</locationX>
        <locationY>1428</locationY>
        <connector>
            <targetReference>Check_NewAppointmentOrNot</targetReference>
        </connector>
        <flowName>Nuovo_appuntamento_Scheduler_Scelta_appuntamento</flowName>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>isNewAppointment</assignToReference>
            <name>isNewAppointment</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>SendConfirmationEmail</assignToReference>
            <name>sendConfirmationEmail</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>ServiceAppointment.Id</assignToReference>
            <name>serviceAppointmentId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Selezione_durata_appuntamento</name>
        <label>Selezione durata appuntamento</label>
        <locationX>1079</locationX>
        <locationY>1243</locationY>
        <connector>
            <targetReference>Check_canale</targetReference>
        </connector>
        <flowName>Nuovo_appuntamento_Scheduler_Selezione_durata_appuntamento</flowName>
        <outputAssignments>
            <assignToReference>workTypeGroupId</assignToReference>
            <name>workTypeGroupId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Selezione_filiale_1</name>
        <label>Selezione filiale</label>
        <locationX>741</locationX>
        <locationY>1597</locationY>
        <connector>
            <targetReference>Get_Filiale</targetReference>
        </connector>
        <flowName>Nuovo_appuntamento_Scheduler_Selezione_filiale_v2</flowName>
        <inputAssignments>
            <name>NDG</name>
            <value>
                <elementReference>Get_NDG</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>filialeId</assignToReference>
            <name>filialeId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Selezione_risorsa_primaria</name>
        <label>Selezione risorsa primaria</label>
        <locationX>1625</locationX>
        <locationY>1292</locationY>
        <connector>
            <targetReference>Set_SA_info</targetReference>
        </connector>
        <flowName>Nuovo_appuntamento_Scheduler_Selezione_risorsa_primaria</flowName>
        <inputAssignments>
            <name>filialeId</name>
            <value>
                <elementReference>filialeId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>recordId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>serviceResourceId</assignToReference>
            <name>serviceResourceId</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>serviceTerritoryId</assignToReference>
            <name>serviceTerritoryId</name>
        </outputAssignments>
    </subflows>
    <variables>
        <description>Minutes / Hours</description>
        <name>appointmentDurationType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>Minutes</stringValue>
        </value>
    </variables>
    <variables>
        <name>appointmentEstimatedDuration</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>campaignMemberId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>changePrimary</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Canale scelto per la presa appuntamento. 
Valori: &quot;Contact Center&quot;, &quot;Rete&quot;.</description>
        <name>channel</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Column_ScheduledServiceAppointmentsTable</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Column_ServiceResourcesTable</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Contact</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contact</objectType>
    </variables>
    <variables>
        <name>ContactEmail</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Specify a default time zone for Lightning Scheduler appointments.</description>
        <name>DefaultTimeZone</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>EnteredFilialeName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>filialeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Specify a comma-separated list of service resource IDs. Depending on the page, these IDs are used to filter work type groups, service territories, or service resources.</description>
        <name>FilterByResourceIds</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>HasSelected</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>isNewAppointment</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </variables>
    <variables>
        <name>IsTagliandoEmpty</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </variables>
    <variables>
        <name>List_CampaignMembersSelected</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CampaignMember</objectType>
    </variables>
    <variables>
        <name>locationLongitude</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>NoteAppuntamento</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>optionalAttendees</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>accountID</description>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Stores the API name of the scheduling policy you want to associate with the flow.</description>
        <name>SchedulingPolicyName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>selectedTimezone</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>selectedTriageOption</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SelectedWorkTypeGroup</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>SendConfirmationEmail</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>ServiceAppointment</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
        <objectType>ServiceAppointment</objectType>
    </variables>
    <variables>
        <name>serviceAppointmentFields</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>serviceResourceId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>serviceResourceName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>serviceResources</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>serviceTerritoryId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>showConfirmationScreen</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </variables>
    <variables>
        <name>ShowErrorResourceNotSelected</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>ShowErrorScheduledAppointments</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>showServiceResource</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </variables>
    <variables>
        <name>showTimeZonePicklist</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </variables>
    <variables>
        <name>skillsStartDate</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>startDate</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>TempCampaignMember</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>CampaignMember</objectType>
    </variables>
    <variables>
        <name>TempOpportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>TempScadenza</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>FinServ__Alert__c</objectType>
    </variables>
    <variables>
        <name>validationErrors</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>workType</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkType</objectType>
    </variables>
    <variables>
        <name>workTypeGroupId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
